= Changelog

== Version 0.19 (8 June 2016)

- Add support for the --pkt-write-file command line option.
- Add support for reconstructing OpenFlow message streams directly from libpcap sources.
- Update boringssl and google-test submodules.

== Version 0.18 (7 May 2016)

- Most FlowMod YAML properties are now optional.
- Add internal X_PKT_MARK OXM field to report offset of partially decoded packets.
- Rename _data_pkt to _pkt_decode in PacketIn/PacketOut messages.
- Rename --data-pkt command line option to --pkt-decode.
- libofp decode tests now use --pkt-decode command line option.
- Add alpine linux Dockerfile.

== Version 0.17 (19 March 2016)

- Change API slightly for OFP.LIST_CONNECTIONS.
- Fix compilation with LIBOFP_ENABLE_JSONRPC=false.
- More unit test coverage.
- Update boringssl and google-test submodules.

== Version 0.16 (9 March 2016)

- Fix potential null pointer dereference.
- Support for collecting code coverage stats.
- Dead-strip the gcc/linux build.
- Fix 32-bit compiler ambiguity.

== Version 0.15 (6 March 2016)

- Add a class for RPC ID's to support null and missing RPC ID values.
- Add NO_FLUSH flag to OFP.SEND.
- Let xid of zero remain at zero. (The previous behavior turned 0 into an auto-incrementing value.)
- Take OPEN_MAX into account on Apple systems when limiting max number of fd's.
- Add the NO_VERSION_CHECK option to OFP.LISTEN and OFP.CONNECT methods.
- Support chunking TableFeatures multipart request from large YAML input.
- Initial support for chunking multipart replies from large YAML input.
- Don't overwrite xid in Error reply message.
- Format code with latest clang-format (which sorts header #includes).
- Update YAML IO from latest llvm sources.

== Version 0.14 (27 January 2016)

- Add endpoint parameter to OFP.CHANNEL notification.
- datapath_id parameter is now optional in OFP.CHANNEL notification.
- Replace std::map with std::unordered_map in Engine.cpp
- Replace ChannelMode with ChannelOptions: FEATURES_REQ, AUXILIARY, LISTEN_UDP, CONNECT_UDP, DEFAULT_CONTROLLER, DEFAULT_AGENT.
- The default options for OFP.LISTEN and OFP.CONNECT are now `DEFAULT_AGENT`.
- Auxiliary OpenFlow connections are off by default; you have to explicitly enable them using the AUXILIARY option.
- UDP listening is off by default you have to explicitly enable it using the LISTEN_UDP option.
- Update yamlio to recent source code from llvm project. Remove code for Random numbers.
- Minor changes to libofp C api.
- Add --initial-sleep hidden argument to libofp tool.
- Truncate JSON-RPC error responses before they exceed the max message size.

== Version 0.13 (16 January 2016)

- Fix issue in parsing LLDP packets.
- RPC method names are now in upper case.
- Fix OpenFlow protocol negotiation.
- Remove Apple xpc support.
- Add hardening options to debian package build.
- Add support for OFP.ALERT callbacks before OFP.CHANNEL_UP.
- Make sure that experimenter properties display as "EXPERIMENTER", not 0xfff.
- Fix issues identified by using -fanalyze.
- asio throw_exception function should have a noreturn attribute.
- Enable check for arc4random in yamlio.
- Update copyright years.
- Update boringssl and googletest submodules.

== Version 0.12 (20 December 2015)

- Support QueueDesc multipart message. (1.4+)
- Preliminary C API and position-independent executable support.
- Support TableDesc for TableStatus message, multipart message.
- GetAsyncReply message. (1.4+)
- Enable ASIO no-deprecated flag.
- Fix issue where google-test headers were being installed.
- Update asio, boringssl, and googletest submodules.

== Version 0.11 (2 December 2015)

- Add support for TableMod message with properties (1.4+).
- Fix QueueGetConfigReply message for OpenFlow versions 1.2, 1.3.
- Update boringssl and googletest submodules.
- Add tests using valgrind memcheck. Fix uninitialized variable warnings.
- Add `--silent-error` command line argument to `libofp encode` command.

== Version 0.10 (15 November 2015)

- Update asio, boringssl, and googletest submodules.
- Fix 32-bit compilation.
- Add debian packaging support for launchpad ppa.
- Add --builtins command line argument to `help` command.
- Include empty properties when building tablefeatures messages
- Add OpenFlow PKT_REGX fields.
- Add Nicira fields: NXM_NX_TUN_IP4_SRC, NXM_NX_TUN_IP4_DST, NXM_NX_TUN_GBP_ID,  NXM_NX_TUN_GBP_FLAGS
- Improve enum/flags support in YAML schemas for FlowMonitorReply, MeterConfig, MeterFeatures, GroupFeatures, TableFeatures.
- Improve comparisons of TableFeatures multipart messages by using a normalize function.
- Add tests against openvswitch-generated OpenFlow 1.4 messages.
- Fix scalar YAML encoding of experimenter OMXID.
- Fix OpenFlow 1.4 multipart request for OFPMP_TABLE.
- Fix issue with signal handlers that prevented RPC server from shutting down cleanly.
- Add ofp.description RPC method.
- Add mask column and header to `--field-table` output.
- Add RPC schema definitions to output of `help` command.
- Rename ofp.message_error notification to ofp.alert.

== Version 0.9 (19 October 2015)

- Help command's schema-all output is YAML parsable and includes all dependent types.
- Use GroupNumber, MeterNumber, QueueNumber mixed types in message classes to strengthen YAML types.
- Add versions property to ofp.listen and ofp.connect RPC commands.
- Improve on the LLDP types used in MatchPacket by adding a text-based (prefix) format.
- Fix support for the BundleAddMessage and BundleControl messages.
- Add a Big24 type to complement Big16, Big32, et al.
- Update all submodules and their locations.

== Version 0.8 (26 August 2015)

- Add support for experimenter OXM fields.
- Initial support for LLDP decodes in MatchPacket.
- Disable check for duplicate OXM fields in MatchBuilder.
- Improve support for compiling with JSON-RPC server disabled.
- Fix `libofp encode` when line ending is CR-LF.
- (No submodule updates)

== Version 0.7 (1 August 2015)

- Fix support for QueueGetConfigReply messages.
- Improve logging output for normalization errors.
- Ignore unrecognized data attached to v4+ Hello messages.
- (No submodule updates)

== Version 0.6 (12 July 2015)

- Fix bug in error code handling for OFPFMFC_UNSUPPORTED.
- Remove annotate.py test's dependency on yaml module. Make annotate.py run faster.
- Fix conversion of StdMatch to OXMRange when dl_type is wildcarded.
- Fix support for v1 ENQUEUE action.
- (No submodule updates this week; waiting for asio/boringssl fix)

== Version 0.5 (4 July 2015)

- Validate Experimenter actions correctly.
- Added openflow-messages test for libofp.
- Fix bug in ProtocolIterator which leads to incorrect data access.
- Fix incorrect validation in transmogrify module.
- SmallCString no longer puts a zero at end of the string.
- Use hex (not decimal) in decodes of QueueProperty and MeterBands.
- Improve message decoder error messages - make them more specific.
- Add '--include-filename' command-line argument to libofp decode.
- Never reply to an Error message with an Error.
- Rename BufferID to BufferNumber for consistency.
- Validate Queue Properties correctly.
- Version output now displays the git commit of libofp itself.
- Add support for LIBOFP_ENABLE_JSONRPC cmake flag (enabled by default)

== Version 0.4 (26 June 2015)

- Multipart PORT_DESC requests/replies now work for versions 1, 2, 3.
- Add _text property to decode of Error message to indicate type of message that elicited the error response.
- Remove OFPET_ prefix from error types in YAML schema. 
- Add support for error types from the OpenFlow 1.5 spec.
- Version output now displays the version/git commit of asio and boringssl.
- Replace UInt8 with strong TableNumber type in PacketIn, FlowRemoved, TableMod, and Request.FlowMonitor messages.
- Add MeterNumber and QueueNumber types.
- Add support for OFPGroupModCommand and OFPGroupType enums.
- Fix TableMod message to use OFPTableConfigFlags enum for config attribute.
- Request.Flow_Monitor message now supports OFPFlowMonitorCommand and OFPFlowMonitorFlags. 
- Added travis/scan.coverity.com integration and fixed some coverity warnings related to uninitialized instance vars and mixed enums.

== Version 0.3 (18 June 2015)

- First public release.
